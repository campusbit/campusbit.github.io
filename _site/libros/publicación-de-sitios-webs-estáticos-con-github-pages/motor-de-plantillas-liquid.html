<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Motor de plantillas Liquid | Campus:bit</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Motor de plantillas Liquid" />
<meta name="author" content="Kramer Edulab" />
<meta property="og:locale" content="es_ES" />
<meta name="description" content="Cómo usar el motor de plantillas Liquid para personalizar los sitios webs estáticos generados con Jekyll." />
<meta property="og:description" content="Cómo usar el motor de plantillas Liquid para personalizar los sitios webs estáticos generados con Jekyll." />
<meta property="og:site_name" content="Campus:bit" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-02-14T09:33:09-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Motor de plantillas Liquid" />
<meta name="twitter:site" content="@krameredulab" />
<meta name="twitter:creator" content="@krameredulab" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kramer Edulab"},"dateModified":"2023-02-14T09:33:09-06:00","datePublished":"2023-02-14T09:33:09-06:00","description":"Cómo usar el motor de plantillas Liquid para personalizar los sitios webs estáticos generados con Jekyll.","headline":"Motor de plantillas Liquid","mainEntityOfPage":{"@type":"WebPage","@id":"/libros/publicaci%C3%B3n-de-sitios-webs-est%C3%A1ticos-con-github-pages/motor-de-plantillas-liquid"},"url":"/libros/publicaci%C3%B3n-de-sitios-webs-est%C3%A1ticos-con-github-pages/motor-de-plantillas-liquid"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Campus:bit" /><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" /></head>
<body><header class="site-header">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Campus:bit</a>

    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18px" height="15px">
            <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
          </svg>
        </span>
      </label>

      <div class="trigger">
        
          
          
          
          
          
          <a class="page-link" href='/libros/publicación-de-sitios-webs-estáticos-con-github-pages'>Publicación de sitios webs estáticos con GitHub Pages</a>
        
      </div>
    </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">
  <header class="post-header">
    <h1 class="post-title">Motor de plantillas Liquid</h1>
  </header>

  <div class="post-reading-time">
    <span class="material-symbols-outlined">schedule</span>
    <span>19 minutos</span>
  </div>

  <div class="post-content">
    <p>Los motores de plantillas se utilizan mucho hoy en día, tanto en sitios webs como en otras tareas.
Entre los más usados, encontramos <strong>Handlebars</strong> y <strong>Liquid</strong>, siendo este segundo el usado de manera nativa por <strong>Jekyll</strong>.
Vamos a ver cómo usarlo para personalizar la generación de nuestros sitios webs con <strong>Jekyll</strong>.</p>

<p>Al finalizar, sabrá:</p>

<ul>
  <li>
    <p>Qué es un motor de plantillas.</p>
  </li>
  <li>
    <p>Cómo usar <strong>Liquid</strong> en <strong>Jekyll</strong>.</p>
  </li>
  <li>
    <p>Cómo utilizar expresiones, etiquetas y filtros para personalizar el contenido final.</p>
  </li>
  <li>
    <p>Cómo controlar las líneas en blanco y los espacios en blanco extras añadidos por el motor de plantillas cuando genera el contenido final.</p>
  </li>
  <li>
    <p>Algunos operadores definidos por <strong>Liquid</strong>.</p>
  </li>
</ul>

<h2 id="introducción">Introducción</h2>

<p>Una <strong>plantilla</strong> (<em>template</em>) no es más que un texto que sirve como referencia para obtener alguna cosa final.
Estas plantillas contienen texto estricto que no debe sufrir modificaciones, pero también expresiones con las que personalizar el resultado final.
Un <strong>motor de plantillas</strong> (<em>template engine</em>) es una aplicación que transforma plantillas a partir de unos datos dados.
Estos motores utilizan su propio lenguaje.
Por ejemplo, el lenguaje utilizado por <strong>Handlebars</strong> no es el mismo que el de <strong>Liquid</strong>.
Tienen aspectos comunes, pero no son iguales.</p>

<p><strong>Jekyll</strong> utiliza el motor de plantillas <strong>Liquid</strong>, <a href="https://shopify.github.io/liquid">https://shopify.github.io/liquid</a>, el cual podemos utilizar para personalizar el resultado final de las páginas del sitio web estático generado, ya se encuentren en <strong>Markdown</strong> o <strong>HTML</strong>.
Aquí, vamos a presentar los elementos más utilizados de este sistema de plantillas.
Si ha trabajado con algún otro como, por ejemplo, <strong>Handlebars</strong>, y cree que podría haber alguna forma de hacer alguna cosa en <strong>Liquid</strong> de manera similar, consulte su sitio web oficial.</p>

<blockquote>
  <p>En <strong>NPM</strong>, existe el paquete <strong>liquidjs</strong> que permite su uso en proyectos de <strong>Node.js</strong>.
Para <strong>Visual Studio Code</strong>, es recomendable la extensión <strong>Shopify Liquid</strong>.</p>
</blockquote>

<p>Para <strong>Jekyll</strong>, todos los archivos <strong>Markdown</strong> y <strong>HTML</strong> ubicados en el <strong>directorio del sitio</strong> se consideran plantillas y como tales serán procesados.
Esto es cierto a medias, tal y como veremos más adelante.
Deben cumplir una condición, definir <em>explícitamente</em> lo que se conoce como un encabezamiento (<em>front matter</em>).</p>

<p>En <strong>Liquid</strong>, las plantillas pueden contener texto estricto, expresiones y etiquetas.
El <strong>texto estricto</strong> (<em>strict text</em>) no es más que aquel que no admite interpretación, debe devolverse tal cual.
Mientras que con las expresiones y las etiquetas podemos personalizar porciones de la plantilla.
Todo aquello que no represente una expresión o una etiqueta se considera texto estricto.</p>

<h2 id="expresiones-de-liquid">Expresiones de <em>Liquid</em></h2>

<p>Una <strong>expresión</strong> (<em>expression</em>) no es más que un conjunto de operadores y operandos que se evalúan y proporcionan un valor,
de manera similar a sus homólogas en lenguajes de programación como <strong>JavaScript</strong> o <strong>TypeScript</strong>.
En <strong>Liquid</strong>, se delimitan entre un par de llaves dobles (<strong>{{</strong> y <strong>}}</strong>), siguiendo el siguiente formato:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{{</span><span class="w"> </span><span class="nv">expresi</span><span class="err">ó</span><span class="nv">n</span><span class="w"> </span><span class="p">}}</span>
</code></pre></div></div>

<p>El siguiente ejemplo muestra cómo insertar, en el resultado final, la fecha exacta en la que <strong>Jekyll</strong> generó el sitio:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">time</span><span class="w"> </span><span class="p">}}</span>
</code></pre></div></div>

<p>Así, por ejemplo, si tenemos la siguiente plantilla formada por texto estricto y una expresión:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fecha de la última actualización: <span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">time</span><span class="w"> </span><span class="p">}}</span>.
</code></pre></div></div>

<p>Si suponemos que la fecha y hora de la generación del sitio web es <em>29 de enero de 2023 a las 20:34</em>, el resultado final obtenido será:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Fecha de la última actualización: 29-01-2023 20:34.
</code></pre></div></div>

<p>Las expresiones pueden acceder a datos, los cuales pueden ser textos, números, booleanos, objetos, listas o <strong><em>nil</em></strong>.
Sus literales se pueden indicar como sigue:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"Los textos literales se indican entre comillas dobles"
123
456.789
true
false
nil
</code></pre></div></div>

<p>Recordemos que un <strong>literal</strong> es un valor estricto de un determinado tipo de datos, el cual puede aparecer en una expresión de <strong>Liquid</strong>.</p>

<p>En el caso de objetos, el acceso a sus propiedades o campos se hace con el operador punto, tal y como vimos en el objeto anterior para obtener la fecha de generación del sitio web.
En el caso de las listas, utilice el operador de indexación (<strong>[</strong> y <strong>]</strong>), donde el primer elemento es el cero (<strong>0</strong>) como en <strong>C/C++</strong>, <strong>Go</strong>, <strong>JavaScript</strong> y <strong>TypeScript</strong>.
Ejemplo:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{{</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">pages</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">}}</span>
</code></pre></div></div>

<p>Se puede utilizar índices negativos donde el <strong>-1</strong> indica el último.</p>

<h2 id="etiquetas">Etiquetas</h2>

<p>Una <strong>etiqueta</strong> (<em>tag</em>) es un elemento de lógica con el que condicionar el resultado.
Se delimitan por <strong>{%</strong> y <strong>%}</strong>.
Al igual que otros motores de plantillas como <strong>Handlebars</strong>, <strong>Liquid</strong> también permite iterar o condicionar contenido, por ejemplo, mediante elementos <strong>{% if %}</strong> o <strong>{% unless %}</strong>.</p>

<h3 id="etiquetas-condicionales">Etiquetas condicionales</h3>

<p>Una <strong>etiqueta condicional</strong> (<em>conditional tag</em>) es aquella que indica una condición que debe cumplirse para generar lo indicado, de manera similar a las sentencia <strong>if</strong> de la mayoría de los lenguajes de programación.
Se declaran como sigue:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">expresi</span><span class="err">ó</span><span class="nv">n</span><span class="w"> </span><span class="p">%}</span>
contenido a añadir si se cumple la expresión
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="kr">unless</span><span class="w"> </span><span class="nv">expresi</span><span class="err">ó</span><span class="nv">n</span><span class="w"> </span><span class="p">%}</span>
contenido a añadir si NO se cumple la expresión
<span class="p">{%</span><span class="w"> </span><span class="kr">endunless</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>El elemento <strong>{% if %}</strong> puede contener cláusulas <em>elsif</em> y <em>else</em> como sigue:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">expresi</span><span class="err">ó</span><span class="nv">n</span><span class="w"> </span><span class="p">%}</span>
contenido
<span class="p">{%</span><span class="w"> </span><span class="kr">elsif</span><span class="w"> </span><span class="nv">expresi</span><span class="err">ó</span><span class="nv">n</span><span class="w"> </span><span class="p">%}</span>
contenido
<span class="p">{%</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">%}</span>
contenido
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>En una etiqueta, cuando se indica <em>expresión</em>, la expresión no se delimita entre llaves.</p>

<p>En una condición, <strong>Liquid</strong> considera como <strong>verdadero</strong> cualquier valor salvo <strong><em>nil</em></strong> y <strong><em>false</em></strong>.
Por lo tanto, trata <strong><em>nil</em></strong> y <strong><em>false</em></strong> como <strong>falso</strong>.
Las cadenas de texto vacías y el cero se tratan como verdadero porque no son ni <strong><em>nil</em></strong> ni <strong><em>false</em></strong>.
No olvide esta pequeña, pero importante idiosincrasia de <strong>Liquid</strong>.</p>

<h3 id="etiquetas-iterativas">Etiquetas iterativas</h3>

<p>Una <strong>etiqueta iterativa</strong> (<em>iterative tag</em>) sirve para generar contenido para cada elemento de una lista, de manera similar a los bucles de los lenguajes de programación.
Para iterar por el valor de una variable, utilizaremos la etiqueta <strong>{% for %}</strong>:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">nombreVariable</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">expresión</span><span class="w"> </span><span class="p">%}</span>
Contenido a generar para cada elemento de la expresión.
Podemos acceder al elemento bajo iteración mediante una
expresión como, por ejemplo, <span class="p">{{</span><span class="w"> </span><span class="nv">nombreVariable</span><span class="p">.</span><span class="nv">nombrePropiedad</span><span class="w"> </span><span class="p">}}</span>.
<span class="p">{%</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">%}</span>
Se generará este contenido si la expresión de iteración
devuelve una lista de tamaño cero.
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>El siguiente ejemplo itera entre los números 1, 2, 3, 4 y 5:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">item</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">(1..5)</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{{</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>Otro ejemplo:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">doc</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">docs</span><span class="w"> </span><span class="p">%}</span>
  <span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">doc</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nv">page</span><span class="w"> </span><span class="p">%}</span>
    &lt;span class="page-link page-active"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">escape</span><span class="w"> </span><span class="p">}}</span>&lt;/span&gt;
  <span class="p">{%</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">%}</span>
    &lt;a class ="page-link" href="<span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">relative_url</span><span class="w"> </span><span class="p">}}</span>"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">escape</span><span class="w"> </span><span class="p">}}</span>&lt;/a&gt;
  <span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>En un bucle, se puede utilizar elementos <strong>{% break %}</strong> o <strong>{% continue %}</strong> con el mismo objeto que sus homólogos de <strong>JavaScript</strong> o <strong>TypeScript</strong>:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">break</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">continue</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<h3 id="etiquetas-de-asignación">Etiquetas de asignación</h3>

<p>En ocasiones, podemos desear crear una variable de datos en la plantilla o bien asignarle un valor a una existente.
Esto se hace mediante las <strong>etiquetas de asignación</strong> (<em>assignation tags</em>) que puede ser <strong>{% assign %}</strong> o <strong>{% capture %}</strong>:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">nombreVariable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">valor</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="nt">capture</span><span class="w"> </span><span class="nv">nombreVariable</span><span class="w"> </span><span class="p">%}</span>
valor
<span class="p">{%</span><span class="w"> </span><span class="nt">endcapture</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>Si la variable existe, le cambiará su valor; en otro caso, la creará.</p>

<h3 id="etiqueta--raw-">Etiqueta <em>{% raw %}</em></h3>

<p>Aunque no es lo habitual, es muy útil añadir contenido que no debe evaluar el motor de plantillas, por ejemplo, porque en su contenido podría haber texto similar a algún elemento de <strong>Liquid</strong>.
Esto lo podemos hacer con un elemento <strong>{% raw %}</strong>:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">raw</span><span class="w"> </span><span class="p">%}</span>
contenido no evaluable por Liquid
<span class="p">{%</span><span class="w"> </span><span class="nt">endraw</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<h4 id="propiedad-render_with_liquid-de-los-encambezamientos">Propiedad <em>render_with_liquid</em> de los encambezamientos</h4>

<p>Si no desea que <strong>Jekyll</strong> aplique <strong>Liquid</strong> a un determinado archivo de contenido, sin necesidad de <strong><em>{% raw %}</em></strong>, fije la propiedad <strong><em>render_with_liquid</em></strong> de su encabezamiento a <strong><em>false</em></strong>.
Pero cuidado, sólo se tiene en cuenta desde la versión <strong>4.0</strong> de <strong>Jekyll</strong>.</p>

<h3 id="comentarios">Comentarios</h3>

<p>Los comentarios se indican también mediante etiquetas como sigue:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">comment</span><span class="w"> </span><span class="p">%}</span><span class="c">
aquí el comentario
que puede extenderse en
varias líneas
</span><span class="p">{%</span><span class="w"> </span><span class="nt">endcomment</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<h2 id="filtros-de-liquid">Filtros de <em>Liquid</em></h2>

<p>En <strong>Liquid</strong>, las expresiones pueden contener filtros.
Un <strong>filtro</strong> (<em>filter</em>) es una operación que se aplica a un dato obtenido de una expresión.
Puede verlo como una función que recibe un dato y lo transforma en otro.
Por ejemplo, si deseamos ordenar una lista de elementos podríamos tener algo como lo siguiente:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">data</span><span class="p">.</span><span class="nv">tags</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>Los filtros siguen un formato similar a las <em>tuberías</em> (<em>pipes</em>) de <em>shell</em>.
El dato se <em>copia</em> a una <em>pipe</em> (<code class="language-plaintext highlighter-rouge">|</code>) y de ahí lo toma el filtro, en el ejemplo anterior, <strong><em>sort</em></strong>.
Adicionalmente, se pueden pasar argumentos extras que se indicarán tras el nombre del filtro.
En el siguiente ejemplo, el primer argumento proviene de <code class="language-plaintext highlighter-rouge">|</code> y el segundo, <em>“price”</em>, indica que se ordene por ese campo, observe los dos puntos (<code class="language-plaintext highlighter-rouge">:</code>) que son necesarios si se pasan argumentos adicionales:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">data</span><span class="p">.</span><span class="nv">products</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">sort</span><span class="p">:</span><span class="w"> </span><span class="s2">"price"</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>Es posible aplicar varios filtros, basta con llevar el resultado del anterior a otra <code class="language-plaintext highlighter-rouge">|</code>.</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%-</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">coll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">site</span><span class="p">.</span><span class="nv">collections</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">where</span><span class="p">:</span><span class="w"> </span><span class="s2">"label"</span><span class="p">,</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">collection</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">first</span><span class="w"> </span><span class="p">-%}</span>
<span class="p">{%-</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">doc</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">coll.docs</span><span class="w"> </span><span class="p">-%}</span>
  &lt;a class ="page-link" href="<span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">relative_url</span><span class="w"> </span><span class="p">}}</span>"&gt;<span class="p">{{</span><span class="w"> </span><span class="nv">doc</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">escape</span><span class="w"> </span><span class="p">}}</span>&lt;/a&gt;
<span class="p">{%-</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">-%}</span>
</code></pre></div></div>

<p><strong>Jekyll</strong> soporta los filtros estándares de <strong>Liquid</strong>, <a href="https://jekyllrb.com/docs/liquid/filters/#standard-liquid-filters">https://jekyllrb.com/docs/liquid/filters/#standard-liquid-filters</a> y añade algunos más que pueden resultar muy útiles en ciertas ocasiones.
Vamos a listar algunos de ellos.</p>

<h3 id="filtros-textuales">Filtros textuales</h3>

<p>Entre los filtros relacionados con valores de tipo texto, encontramos:</p>

<table>
  <thead>
    <tr>
      <th>Filtro</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong><em>texto | upcase</em></strong></td>
      <td>Devuelve el texto en mayúsculas.</td>
    </tr>
    <tr>
      <td><strong><em>texto | downcase</em></strong></td>
      <td>Devuelve el texto en minúsculas.</td>
    </tr>
    <tr>
      <td><strong><em>texto | capitalize</em></strong></td>
      <td>Devuelve el texto con el primer carácter en mayúsculas y el resto en minúsculas.</td>
    </tr>
    <tr>
      <td><strong><em>texto | escape</em></strong></td>
      <td>Devuelve el texto proporcionado escapado para que pueda ser usado como un URL.</td>
    </tr>
    <tr>
      <td><strong><em>texto | escape_once</em></strong></td>
      <td>Devuelve el texto proporcionado escapado sin escapar las entidades ya escapadas.</td>
    </tr>
    <tr>
      <td><strong><em>texto | size</em></strong></td>
      <td>Devuelve el tamaño de un texto.</td>
    </tr>
    <tr>
      <td><strong><em>texto | slice: índice</em></strong></td>
      <td>Devuelve el elemento indicado por su índice, considerando el primer elemento como el de índice cero (0).</td>
    </tr>
    <tr>
      <td><strong><em>texto | slice: inicio, fin</em></strong></td>
      <td>Devuelve los elementos que van desde el índice de inicio al de fin indicados.</td>
    </tr>
    <tr>
      <td><strong><em>texto | relative_url</em></strong></td>
      <td>Devuelve la ruta relativa, añadiendo la base extraída de <strong>_config.yaml</strong>, para la ruta dada.</td>
    </tr>
    <tr>
      <td><strong><em>texto | absolute_url</em></strong></td>
      <td>Devuelve la ruta absoluta, incluidos el dominio y la base, para la ruta dada.</td>
    </tr>
    <tr>
      <td><strong><em>texto | number_of_words</em></strong></td>
      <td>Devuelve el número de palabras que tiene un determinado texto.</td>
    </tr>
    <tr>
      <td><strong><em>texto | append: texto</em></strong></td>
      <td>Devuelve el texto que resulta de añadir uno dado al primero.</td>
    </tr>
    <tr>
      <td><strong><em>texto | prepend: texto</em></strong></td>
      <td>Devuelve el texto que resulta de prefijar uno dado al primero.</td>
    </tr>
  </tbody>
</table>

<h3 id="filtros-de-lista">Filtros de lista</h3>

<table>
  <thead>
    <tr>
      <th>Filtro</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong><em>array | join</em></strong></td>
      <td>Concatena los elementos de un array y devuelve el texto resultante.</td>
    </tr>
    <tr>
      <td><strong><em>array | join: “separador”</em></strong></td>
      <td>Ídem al anterior usando el separador indicado.</td>
    </tr>
    <tr>
      <td><strong><em>array | first</em></strong></td>
      <td>Devuelve el primer elemento del array.</td>
    </tr>
    <tr>
      <td><strong><em>array | last</em></strong></td>
      <td>Devuelve el último elemento del array.</td>
    </tr>
    <tr>
      <td><strong><em>array | reverse</em></strong></td>
      <td>Devuelve el array invertido.</td>
    </tr>
    <tr>
      <td><strong><em>array | size</em></strong></td>
      <td>Devuelve el tamaño del array.</td>
    </tr>
    <tr>
      <td><strong><em>array | slice: índice</em></strong></td>
      <td>Devuelve el elemento indicado por su índice, considerando el primer elemento como el de índice cero (0).</td>
    </tr>
    <tr>
      <td><strong><em>array | slice: inicio, fin</em></strong></td>
      <td>Devuelve los elementos que van desde el índice de inicio al de fin indicados.</td>
    </tr>
    <tr>
      <td><strong><em>array | sort</em></strong></td>
      <td>Ordena y devuelve un array.</td>
    </tr>
    <tr>
      <td><strong><em>array | sort: “campo”</em></strong></td>
      <td>Ordena un array de objetos por el valor del campo indicado.</td>
    </tr>
    <tr>
      <td><strong><em>array | uniq</em></strong></td>
      <td>Devuelve un array sin los duplicados.</td>
    </tr>
    <tr>
      <td><strong><em>array | where: “campo”, “campo”</em></strong></td>
      <td>Devuelve un array con aquellos elementos que tengan un valor para los campos indicados.</td>
    </tr>
    <tr>
      <td><strong><em>array | concat: array</em></strong></td>
      <td>Devuelve un array con la concatenación de los indicados.</td>
    </tr>
  </tbody>
</table>

<h3 id="filtros-de-fecha">Filtros de fecha</h3>

<table>
  <thead>
    <tr>
      <th>Filtro</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong><em>fecha | date</em></strong></td>
      <td>Devuelve un texto con la fecha formateada.</td>
    </tr>
    <tr>
      <td><strong><em>fecha | date: “formato”</em></strong></td>
      <td>Ídem al anterior, pero siguiendo el formato indicado.</td>
    </tr>
  </tbody>
</table>

<h3 id="filtros-matemáticos">Filtros matemáticos</h3>

<p>Es posible utilizar algunos filtros para realizar operaciones matemáticas básicas:</p>

<table>
  <thead>
    <tr>
      <th>Filtro</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong><em>número | minus: número</em></strong></td>
      <td>Devuelve la resta de dos números.</td>
    </tr>
    <tr>
      <td><strong><em>número | plus: número</em></strong></td>
      <td>Devuelve la suma de dos números.</td>
    </tr>
    <tr>
      <td><strong><em>número | divided_by: número</em></strong></td>
      <td>Devuelve la división de dos números. El valor devuelve es redondeado.</td>
    </tr>
    <tr>
      <td><strong><em>número | modulo: número</em></strong></td>
      <td>Devuelve el resto de la división de dos números.</td>
    </tr>
    <tr>
      <td><strong><em>número | times: número</em></strong></td>
      <td>Devuelve la multiplicación de dos números.</td>
    </tr>
    <tr>
      <td><strong><em>número | abs</em></strong></td>
      <td>Devuelve el valor absoluto de un número.</td>
    </tr>
  </tbody>
</table>

<p>Veamos un ejemplo.
Supongamos que deseamos conocer el tiempo de lectura del contenido de una página.
Teniendo en cuenta que el promedio de palabras leídas por minuto es de 180, podemos calcular cuántos minutos necesitaremos para leer un determinado contenido como sigue:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Tiempo de lectura: <span class="p">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">content</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">number_of_words</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">divided_by</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="w"> </span><span class="p">}}</span> minutos
</code></pre></div></div>

<h3 id="otros-filtros">Otros filtros</h3>

<table>
  <thead>
    <tr>
      <th>Filtro</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong><em>valor | default: valor</em></strong></td>
      <td>Devuelve un valor dado si el proporcionado es <strong><em>nil</em></strong>, <strong><em>false</em></strong> o el texto vacío.</td>
    </tr>
  </tbody>
</table>

<h2 id="creación-de-listas-en-línea">Creación de listas en línea</h2>

<p>A diferencia de algunos tipos de datos como, por ejemplo, los textos, los números y los booleanos, <strong>Liquid</strong> no permite crear listas literales.
Hay que buscar una solución alternativa (<em>workaround</em>) con la que poder crearlas en la plantilla cuando sea necesario, sin necesidad de acudir a archivos de datos de <strong>Jekyll</strong>.
La opción más sencilla es crear la lista a partir de un texto literal y el filtro <strong><em>split</em></strong>.
Ejemplo:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">lista</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"uno::dos::tres::cuatro"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">split</span><span class="p">:</span><span class="w"> </span><span class="s2">"::"</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>La idea es listar los elementos en un texto literal con un separador que sepamos que no tendrá ningún elemento y usarlo para descomponer el texto en una lista.
En el ejemplo anterior, la lista consistirá en cuatro elementos cuyos valores son <em>uno</em>, <em>dos</em>, <em>tres</em> y <em>cuatro</em>.</p>

<h2 id="control-del-espacio-en-blanco">Control del espacio en blanco</h2>

<p>Existen ocasiones donde los espacios en blanco en los documentos generados pueden ser importantes porque pueden añadir espacios en blanco o saltos de líneas innecesarios o porque la añadidura de espacios en blanco o saltos de líneas extras puede dar al traste con un formato elegante y fácil de leer.
Imagínese un archivo <strong>JSON</strong> donde aparecen saltos de línea o campos escalonados debido a espacios innecesarios como, por ejemplo:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"a"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="nl">"b"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
 </span><span class="nl">"c"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">

    </span><span class="nl">"d"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>El <strong>control del espacio en blanco</strong> (<em>whitespace control</em>) está relacionado con la añadidura innecesaria de espacios en blanco o saltos de línea en el contenido final generado a partir de una plantilla.
<strong>Liquid</strong>, al igual que otros motores de plantillas como <strong>Handlebars</strong>, proporciona mecanismos para tratar situaciones excepcionales que pueden conducir a la añadidura de espacios en blanco innecesarios.</p>

<p>Se consigue mediante el uso de un guion (<strong>-</strong>) en las expresiones y las etiquetas.
Este guion puede aparecer tanto en el delimitador inicial, ya sea <strong>{{-</strong> o <strong>{%-</strong>, como en el final, <strong>-}}</strong> o <strong>-%}</strong>.
Le indica al procesador de <strong>Liquid</strong> algo muy sencillo: suprime el salto de línea de la etiqueta o el espacio en blanco de la expresión.
Como esto puede aparecer tanto a izquierda como a derecha, se podrá indicar tanto en el delimitador inicial como en el final según el caso.
Por ejemplo, supongamos lo siguiente:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">txt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Texto a mostrar"</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">txt</span><span class="w"> </span><span class="p">}}</span>
</code></pre></div></div>

<p>Según lo anterior, el procesador de <strong>Liquid</strong> añadirá un salto de línea tras el procesamiento de la etiqueta de asignación, justo antes del texto devuelto por la expresión.
Si no queremos o necesitamos este salto, no tenemos más que finalizarla con <strong>-%}</strong>.
El guion lo que le dice es que no añada el salto de línea que añadiría el delimitador de fin, o sea, <strong>%}</strong>:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">txt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Texto a mostrar"</span><span class="w"> </span><span class="p">-%}</span>
<span class="p">{{</span><span class="w"> </span><span class="nv">txt</span><span class="w"> </span><span class="p">}}</span>
</code></pre></div></div>

<p>Ahora, imagine lo siguiente:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Elvis Costello"</span><span class="w"> </span><span class="p">%}</span>
<span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">fullName</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">fullName</span><span class="p">.</span><span class="nf">size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">%}</span>
  Vaya, <span class="p">{{</span><span class="w"> </span><span class="nv">fullName</span><span class="w"> </span><span class="p">}}</span>, tienes un nombre completo de más de 10 caracteres.
<span class="p">{%</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">%}</span>
  Tu nombre no es superior a los 10 caracteres.
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>Volvería a pasar algo similar:</p>

<ul>
  <li>
    <p>La expresión de asignación generaría una línea en blanco.</p>
  </li>
  <li>
    <p>La cláusula <strong>if</strong> generaría otra línea en blanco.</p>
  </li>
  <li>
    <p>Como se cumple la condición de la cláusula <strong>if</strong>, aparecería el texto <em>Vaya…</em>.</p>
  </li>
  <li>
    <p>A continuación, aparecería otra línea en blanco debido a la cláusula <strong>else</strong>.</p>
  </li>
</ul>

<p>Cómo se resuelve el problema, mediante el uso del guion supresor; por favor, preste espacial atención a su uso:</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="nt">assign</span><span class="w"> </span><span class="nv">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Elvis Costello"</span><span class="w"> </span><span class="p">-%}</span>
<span class="p">{%-</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">fullName</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nv">fullName</span><span class="p">.</span><span class="nf">size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">-%}</span>
  Vaya, <span class="p">{{</span><span class="w"> </span><span class="nv">fullName</span><span class="w"> </span><span class="p">-}}</span>, tienes un nombre completo de más de 10 caracteres.
<span class="p">{%-</span><span class="w"> </span><span class="kr">else</span><span class="w"> </span><span class="p">-%}</span>
  Tu nombre no es superior a los 10 caracteres.
<span class="p">{%-</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre></div></div>

<p>Esto sólo debe tenerlo en cuenta si las líneas en blanco o los espacios en blanco generados por las etiquetas y las expresiones, respectivamente, pueden generarle problemas en el contenido final generado.</p>

<h2 id="operadores">Operadores</h2>

<p>En las expresiones de <strong>Liquid</strong>, es posible indicar tanto operadores como operandos.
Los operadores son pocos, pero suficientes para resolver la mayoría de los casos:</p>

<table>
  <thead>
    <tr>
      <th>Operador</th>
      <th>Descripción</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong><em>valor == valor</em></strong></td>
      <td>Comprueba si dos valores son iguales.</td>
    </tr>
    <tr>
      <td><strong><em>valor != valor</em></strong></td>
      <td>Comprueba si dos valores son distintos.</td>
    </tr>
    <tr>
      <td><strong><em>valor &gt; valor</em></strong></td>
      <td>Comprueba si el primer valor es mayor que el segundo.</td>
    </tr>
    <tr>
      <td><strong><em>valor &gt;= valor</em></strong></td>
      <td>Comprueba si el primer valor es mayor o igual que el segundo.</td>
    </tr>
    <tr>
      <td><strong><em>valor &lt; valor</em></strong></td>
      <td>Comprueba si el primer valor es menor que el segundo.</td>
    </tr>
    <tr>
      <td><strong><em>valor &lt;= valor</em></strong></td>
      <td>Comprueba si el primer valor es menor o igual que el segundo.</td>
    </tr>
    <tr>
      <td><strong><em>valor and valor</em></strong></td>
      <td>Realiza una comprobación lógica Y.</td>
    </tr>
    <tr>
      <td><strong><em>valor or valor</em></strong></td>
      <td>Realiza una comprobación lógica O.</td>
    </tr>
    <tr>
      <td><strong><em>lista contains valor</em></strong></td>
      <td>Comprueba si una lista contiene un determinado valor.</td>
    </tr>
  </tbody>
</table>

  </div>

  <div class="back-to-top">
    <a href="#"><span class="material-symbols-outlined">arrow_upward</span></a>
  </div>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="social-links"><ul class="social-media-list"><li>
  <a rel="me" href="https://twitter.com/krameredulab" target="_blank" title="twitter">
    <svg class="svg-icon grey">
      <use xlink:href="/assets/minima-social-icons.svg#twitter"></use>
    </svg>
  </a>
</li>
</ul>
</div>

    <div>
      Copyright © 2023 Kramer Edulab. Product of Spain, EU, made in Valencia by Kramer Edulab.
      <br />
      Portal de formación dedicado a Manuela Cavero Asensio.
    </div>
  </div>
</footer></body>

</html>
